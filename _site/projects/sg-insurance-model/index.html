<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-02-16">
<meta name="description" content="A Streamlit-powered actuarial dashboard that pits ‚ÄòBuy Term, Invest the Difference‚Äô against Whole Life plans, accounting for human behavior and stochastic risk.">

<title>Singapore Insurance Strategy Dashboard ‚Äì Jordan‚Äôs Projects</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../..//assets/favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-f157d37ced3fdb2c46924f401e9f658f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-V7YLYPVKHH"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-V7YLYPVKHH', { 'anonymize_ip': true});
</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Singapore Insurance Strategy Dashboard ‚Äì Jordan‚Äôs Projects">
<meta property="og:description" content="A Streamlit-powered actuarial dashboard that pits ‚ÄòBuy Term, Invest the Difference‚Äô against Whole Life plans, accounting for human behavior and stochastic risk.">
<meta property="og:image" content="https://jordanchongja.github.io/projects/sg-insurance-model/featured.png">
<meta property="og:site_name" content="Jordan's Projects">
<meta property="og:image:height" content="1155">
<meta property="og:image:width" content="1953">
<meta property="og:image:alt" content="Screenshot of the dashboard">
<meta name="twitter:title" content="Singapore Insurance Strategy Dashboard ‚Äì Jordan‚Äôs Projects">
<meta name="twitter:description" content="A Streamlit-powered actuarial dashboard that pits ‚ÄòBuy Term, Invest the Difference‚Äô against Whole Life plans, accounting for human behavior and stochastic risk.">
<meta name="twitter:image" content="https://jordanchongja.github.io/projects/sg-insurance-model/featured.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image-height" content="1155">
<meta name="twitter:image-width" content="1953">
<meta name="twitter:image:alt" content="Screenshot of the dashboard">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Jordan‚Äôs Projects</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../projects/index.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../notes/index.html"> 
<span class="menu-text">Notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../readings/index.html"> 
<span class="menu-text">Readings</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../assets/Jordan_Chong_CV.pdf" target="_blank"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/jordan-chong-88a02b172/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jordanchongja"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#launch-the-dashboard" id="toc-launch-the-dashboard" class="nav-link active" data-scroll-target="#launch-the-dashboard">üöÄ Launch the Dashboard</a></li>
  <li><a href="#the-problem-math-vs.-reality" id="toc-the-problem-math-vs.-reality" class="nav-link" data-scroll-target="#the-problem-math-vs.-reality">The Problem: Math vs.&nbsp;Reality</a></li>
  <li><a href="#the-data-incorporating-actuarial-science" id="toc-the-data-incorporating-actuarial-science" class="nav-link" data-scroll-target="#the-data-incorporating-actuarial-science">The Data: Incorporating Actuarial Science</a>
  <ul class="collapse">
  <li><a href="#the-source-s0408-tables" id="toc-the-source-s0408-tables" class="nav-link" data-scroll-target="#the-source-s0408-tables">1. The Source: S0408 Tables</a></li>
  <li><a href="#the-thought-process-static-vs.-probabilistic" id="toc-the-thought-process-static-vs.-probabilistic" class="nav-link" data-scroll-target="#the-thought-process-static-vs.-probabilistic">2. The Thought Process: Static vs.&nbsp;Probabilistic</a></li>
  </ul></li>
  <li><a href="#the-solution-a-three-act-structure" id="toc-the-solution-a-three-act-structure" class="nav-link" data-scroll-target="#the-solution-a-three-act-structure">The Solution: A Three-Act Structure</a>
  <ul class="collapse">
  <li><a href="#act-1-the-deterministic-baseline" id="toc-act-1-the-deterministic-baseline" class="nav-link" data-scroll-target="#act-1-the-deterministic-baseline">Act 1: The Deterministic Baseline</a></li>
  <li><a href="#act-2-behavioral-stress-testing" id="toc-act-2-behavioral-stress-testing" class="nav-link" data-scroll-target="#act-2-behavioral-stress-testing">Act 2: Behavioral Stress Testing</a></li>
  <li><a href="#act-3-stochastic-reality-monte-carlo" id="toc-act-3-stochastic-reality-monte-carlo" class="nav-link" data-scroll-target="#act-3-stochastic-reality-monte-carlo">Act 3: Stochastic Reality (Monte Carlo)</a></li>
  </ul></li>
  <li><a href="#technical-implementation" id="toc-technical-implementation" class="nav-link" data-scroll-target="#technical-implementation">Technical Implementation</a>
  <ul class="collapse">
  <li><a href="#key-technologies" id="toc-key-technologies" class="nav-link" data-scroll-target="#key-technologies">Key Technologies</a></li>
  <li><a href="#code-highlight-the-discipline-logic" id="toc-code-highlight-the-discipline-logic" class="nav-link" data-scroll-target="#code-highlight-the-discipline-logic">Code Highlight: The Discipline Logic</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">
<div style="margin-top: 50px;"></div>

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Singapore Insurance Strategy Dashboard</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Python</div>
    <div class="quarto-category">Streamlit</div>
    <div class="quarto-category">Actuarial Science</div>
    <div class="quarto-category">Data Visualization</div>
    <div class="quarto-category">Monte Carlo</div>
  </div>
  </div>

<div>
  <div class="description">
    A Streamlit-powered actuarial dashboard that pits ‚ÄòBuy Term, Invest the Difference‚Äô against Whole Life plans, accounting for human behavior and stochastic risk.
  </div>
</div>


<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 16, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><img src="https://img.shields.io/badge/Python-3.10-3776AB?logo=python&amp;logoColor=white" class="img-fluid"> <img src="https://img.shields.io/badge/Status-Completed-success.png" class="img-fluid"> <a href="https://github.com/jordanchongja/sg-insurance-model"><img src="https://img.shields.io/badge/View_Source_Code-181717?logo=github&amp;logoColor=white.png" class="img-fluid" alt="GitHub"></a></p>
<style>
  #quarto-margin-sidebar {
    padding-top: 50px; /* Match this to your header margin */
  }
</style>
<section id="launch-the-dashboard" class="level3">
<h3 class="anchored" data-anchor-id="launch-the-dashboard"><a href="https://sg-insurance-model.streamlit.app/">üöÄ Launch the Dashboard</a></h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="featured.png" class="img-fluid figure-img"></p>
<figcaption>Snapshot of the Dashboard</figcaption>
</figure>
</div>
</section>
<section id="the-problem-math-vs.-reality" class="level1">
<h1>The Problem: Math vs.&nbsp;Reality</h1>
<p>In the Singaporean personal finance community, the debate between buying a Whole Life (WL) policy versus ‚ÄúBuying Term and Investing the Difference‚Äù (BTID) is endless.</p>
<p>Most calculators are purely deterministic: they assume you invest the difference perfectly every month for 40 years. But humans aren‚Äôt robots.</p>
<p>I built the <strong><a href="https://sg-insurance-model.streamlit.app/">Singapore Insurance Model</a></strong> to answer a deeper question: <strong>‚ÄúAt what level of human error does the ‚Äòmathematically superior‚Äô strategy fail?‚Äù</strong></p>
</section>
<section id="the-data-incorporating-actuarial-science" class="level1">
<h1>The Data: Incorporating Actuarial Science</h1>
<p>A key differentiator of this project is the move away from ‚Äúaverage life expectancy‚Äù to rigorous actuarial data.</p>
<section id="the-source-s0408-tables" class="level3">
<h3 class="anchored" data-anchor-id="the-source-s0408-tables">1. The Source: S0408 Tables</h3>
<p>Instead of using generic global mortality rates, I integrated the <strong>S0408 Singapore Mortality Tables</strong>. These tables serve as the industry benchmark for insure-tech in Singapore, providing the specific <span class="math inline">\(q_x\)</span> (probability of death at age <span class="math inline">\(x\)</span>) for the local demographic.</p>
</section>
<section id="the-thought-process-static-vs.-probabilistic" class="level3">
<h3 class="anchored" data-anchor-id="the-thought-process-static-vs.-probabilistic">2. The Thought Process: Static vs.&nbsp;Probabilistic</h3>
<p>The initial version of the dashboard (Act 1) treated death as a fixed event at age 85. However, this ignores the primary value proposition of insurance: <strong>tail risk</strong>.</p>
<p>To model this accurately, I had to transform the discrete annual data from the S0408 tables into monthly probabilities. This allowed the model to run simulations where ‚ÄúDeath‚Äù or ‚ÄúTotal Permanent Disability‚Äù (TPD) could occur at any month <span class="math inline">\(t\)</span>, triggering the sum assured payout immediately rather than at the end of the horizon.</p>
<blockquote class="blockquote">
<p><strong>Technical Challenge:</strong> A major hurdle was handling the ‚ÄúMulti-Claim‚Äù logic. In Singaporean policies, a Critical Illness (CI) claim often accelerates the Death Benefit. I had to write logic to ensure that if a CI event occurred in the simulation, the remaining Death Sum Assured was reduced proportionally, reflecting the ‚Äúmultiplier‚Äù effect found in real-world Whole Life policies.</p>
</blockquote>
</section>
</section>
<section id="the-solution-a-three-act-structure" class="level1">
<h1>The Solution: A Three-Act Structure</h1>
<p>I designed the application in three distinct layers of complexity, which I call ‚ÄúThe Three Acts.‚Äù</p>
<section id="act-1-the-deterministic-baseline" class="level2">
<h2 class="anchored" data-anchor-id="act-1-the-deterministic-baseline">Act 1: The Deterministic Baseline</h2>
<p>The first layer builds the standard financial projection.<br>
- <strong>Liquidity Analysis:</strong> Comparing the Surrender Value of WL against the liquid portfolio of BTID.<br>
- <strong>Legacy Visualization:</strong> Tracking the Death Benefit sum assured over time.<br>
- <strong>The ‚ÄòStrategy Frontier‚Äô:</strong> A dynamic calculation that pinpoints the exact age where BTID overtakes WL based on user-defined investment returns (e.g., 4% vs 7%).</p>
</section>
<section id="act-2-behavioral-stress-testing" class="level2">
<h2 class="anchored" data-anchor-id="act-2-behavioral-stress-testing">Act 2: Behavioral Stress Testing</h2>
<p>Data shows that most retail investors do not reinvest their savings perfectly. I introduced a <strong>‚ÄúDiscipline Coefficient‚Äù</strong>, a slider allowing users to see what happens if they only invest 50%, 70%, or 90% of their premium savings.</p>
<blockquote class="blockquote">
<p><strong>Key Insight:</strong> Through this feature, I discovered that if an investor‚Äôs discipline drops below ~60%, Whole Life plans often outperform BTID due to their ‚Äúforced savings‚Äù nature, despite lower internal rates of return.</p>
</blockquote>
</section>
<section id="act-3-stochastic-reality-monte-carlo" class="level2">
<h2 class="anchored" data-anchor-id="act-3-stochastic-reality-monte-carlo">Act 3: Stochastic Reality (Monte Carlo)</h2>
<p>Life isn‚Äôt linear. Using <strong>Monte Carlo simulations</strong>, I modeled:<br>
- <strong>Actuarial Risk:</strong> Probabilities of Death and Total Permanent Disability (TPD) using Singapore‚Äôs S0408 tables.<br>
- <strong>Sequence of Returns Risk:</strong> Instead of a flat 7% return, the model simulates market volatility to show the range of possible outcomes for the BTID portfolio.</p>
</section>
</section>
<section id="technical-implementation" class="level1">
<h1>Technical Implementation</h1>
<p>The application is built entirely in <strong>Python</strong> and hosted on <strong>Streamlit Cloud</strong>.</p>
<section id="key-technologies" class="level3">
<h3 class="anchored" data-anchor-id="key-technologies">Key Technologies</h3>
<ul>
<li><strong>Streamlit:</strong> For the reactive frontend and state management.</li>
<li><strong>Pandas/NumPy:</strong> For vectorizing the cashflow projections over 50+ year horizons.</li>
<li><strong>Plotly:</strong> For interactive financial charts that allow users to zoom into specific life stages.</li>
</ul>
</section>
<section id="code-highlight-the-discipline-logic" class="level3">
<h3 class="anchored" data-anchor-id="code-highlight-the-discipline-logic">Code Highlight: The Discipline Logic</h3>
<p>One of the most challenging aspects was modeling the ‚Äúleakage‚Äù of capital when discipline wavers.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pseudocode logic for the discipline stress test used in the app</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_btid_accumulation(savings, discipline_rate, market_return):</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># discipline_rate is a float between 0.0 and 1.0 (e.g., 0.8 for 80% discipline)</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    realized_investment <span class="op">=</span> savings <span class="op">*</span> discipline_rate</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    leakage <span class="op">=</span> savings <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> discipline_rate) <span class="co"># Money spent on lifestyle, lost forever</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Projecting the portfolio with the 'leaked' capital removed</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This reveals the true cost of human behavior on compound interest</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    portfolio_value <span class="op">=</span> npf.fv(rate<span class="op">=</span>market_return<span class="op">/</span><span class="dv">12</span>, nper<span class="op">=</span>months, pmt<span class="op">=-</span>realized_investment, pv<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> portfolio_value</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>This project started as a calculator but evolved into a behavioral finance tool. By allowing users to toggle their ‚ÄúDiscipline,‚Äù the dashboard moves beyond telling people what they <em>should</em> do, and helps them visualize what they are <em>likely</em> to achieve based on their own habits.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/jordanchongja\.github\.io");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><span class="p-1">Made with <a href="https://quarto.org/">Quarto</a>.</span></p>
</div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jordanchongja">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/jordan-chong-88a02b172/">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:jordanchongjian25@gmail.com">
      <i class="bi bi-envelope" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item">
 |
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://github.com/jordanchongja/jordanchongja.github.io">
<p>Source</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../license.html">
<p>License</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../../contact.html">
<p>Contact</p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>